server {
    server_name pythoneer.lemoncurry.nl;
    root /home/albert/www/django;
    error_log /var/log/nginx/pythoneer.lemoncurry-error.log error;
    access_log /var/log/nginx/pythoneer.lemoncurry-access.log ;
#    <LocationMatch "^/favicon.ico">
#    SetHandler default
#    </LocationMatch>
#    alias /favicon.ico /home/albert/www/images/wiu.ico
#    Alias /media "/usr/share/pyshared/django/contrib/admin/media"
#    Alias /admin_media /usr/lib/python2.6/site-packages/django/contrib/admin/media
#    <Location /admin_media>
#      Order allow,deny
#      Allow from all
#    </Location>
#    WSGIScriptAlias / /home/albert/www/django/pythoneer/wsgi_handler.py
    location /media {
        root   /home/albert/www/django/pythoneer/;
        # I use a symbolic link called "admin" in the media/ folder
        # (pointing to /usr/local/lib/python2.6/dist-packages/django/contrib/admin/media/ in my case)
        # as suggested in http://docs.djangoproject.com/en/dev/howto/deployment/modpython/#serving-the-admin-files
        # so that nginx serves the django admin media files with the parameter
        # ADMIN_MEDIA_PREFIX set to '/media/admin/' in settings.py
        }

    location / {
        fastcgi_pass unix:/var/run/pythoneer.sock;
        # for a TCP host/port:
        # fastcgi_pass   {hostname}:{port};

        # necessary parameter
        fastcgi_param PATH_INFO $fastcgi_script_name;

        # to deal with POST requests
        fastcgi_param REQUEST_METHOD $request_method;
        fastcgi_param CONTENT_TYPE $content_type;
        fastcgi_param CONTENT_LENGTH $content_length;
        include /etc/nginx/fastcgi_params;
        # http://stackoverflow.com/questions/605173/how-to-nginx-virtual-servers-fcgi-for-django uses many other parameters,
        # some may be necessary in some situations
        }
    }
